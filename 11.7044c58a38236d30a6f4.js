(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Os0n:function(n,t,e){"use strict";e.r(t);var l=e("CcnG"),i=function(){return function(){}}(),a=e("pMnS"),o=e("r0Mn"),r=e("U9hD"),s=e("MQMe"),u=e("hIfO"),c=e("s5Z2"),d=e("A7o+"),f=e("zLSN"),h=e("M/5E"),p=e("JiLI"),b=e("xOPY"),g=e("mrSG"),m={moduleTranslationKey:"VEREINE",pageTitleTranslationKey:"VEREINE.VEREINE.TITLE",navigationCardsConfig:{navigationCards:[]}},E={columns:[{translationKey:"VEREINE.VEREINE.TABLE.HEADERS.VERANSTALTUNG",propertyName:"veranstaltung_name",width:20},{translationKey:"VEREINE.VEREINE.TABLE.HEADERS.WETTKAMPF",propertyName:"wettkampfTag",width:20},{translationKey:"VEREINE.VEREINE.TABLE.HEADERS.MANNSCHAFT",propertyName:"mannschaftsName",width:20}]},y=e("X628"),v=e("vR+0"),w=e("PEb7"),T=e("ny2l"),C=e("YfBl"),I=function(){function n(){}return n.copyFrom=function(t){void 0===t&&(t={});var e=new n;return e.id=t.id>=0?t.id:null,e.veranstaltungsId=t.veranstaltungsId>=0?t.veranstaltungsId:null,e.wettkampfTag=t.wettkampfTag>=0?t.wettkampfTag:null,e.wettkampfDisziplinId=t.wettkampfDisziplinId>=0?t.wettkampfDisziplinId:null,e.wettkampfTypId=t.wettkampfTypId>=0?t.wettkampfTypId:null,e.createdByUserId=t.createdByUserId>=0?t.createdByUserId:null,e.version=t.version>=0?t.version:null,e.datum=t.datum||"",e.wettkampfOrt=t.wettkampfOrt||"",e.wettkampfBeginn=t.wettkampfBeginn||"",e.createdAtUtc=t.createdAtUtc||"",e},n}();function S(n){return I.copyFrom(n)}function O(n){var t=[];return n.forEach(function(n){return t.push(S(n))}),t}var k=e("GxkG"),z=function(n){function t(t){var e=n.call(this)||this;return e.restClient=t,e.serviceSubUrl="v1/wettkampf",e}return g.c(t,n),t.prototype.findAllWettkaempfeByMannschaftsId=function(n){var t=this;return new Promise(function(e,l){t.restClient.GET((new C.d).fromPath(t.getUrl()).path("byMannschaftsId/"+n).build()).then(function(n){console.log("wettaempfe kraw data"),console.log(n),e({result:C.b.SUCCESS,payload:O(n)})},function(n){l(0===n.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},t.prototype.findAll=function(){var n=this;return new Promise(function(t,e){n.restClient.GET(n.getUrl()).then(function(n){t({result:C.b.SUCCESS,payload:O(n)})},function(n){e(0===n.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},t.prototype.findById=function(n){var t=this;return new Promise(function(e,l){t.restClient.GET((new C.d).fromPath(t.getUrl()).path(n).build()).then(function(n){e({result:C.b.SUCCESS,payload:S(n)})},function(n){l(0===n.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},t.prototype.update=function(n){var t=this;return new Promise(function(e,l){t.restClient.PUT((new C.d).fromPath(t.getUrl()).build(),n).then(function(n){e({result:C.b.SUCCESS,payload:S(n)})},function(n){l(0===n.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},t.prototype.create=function(n){var t=this;return new Promise(function(e,l){t.restClient.POST((new C.d).fromPath(t.getUrl()).build(),n).then(function(n){e({result:C.b.SUCCESS,payload:S(n)})},function(n){l(0===n.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},t.prototype.deleteById=function(n){var t=this;return new Promise(function(e,l){t.restClient.DELETE((new C.d).fromPath(t.getUrl()).path(n).build()).then(function(n){e({result:C.b.SUCCESS})},function(n){l(0===n.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},t.ngInjectableDef=l.U({factory:function(){return new t(l.Y(k.a))},token:t,providedIn:"root"}),t}(C.a),N=e("v/JJ"),R=function(n,t,e){this.veranstaltung_name=n,this.wettkampfTag=t,this.mannschaftsName=e,this.id=1,this.version=1},F=function(n){function t(t,e,l,i){var a=n.call(this)||this;return a.wettkampfDataProvider=t,a.veranstaltungsDataProvider=e,a.vereinDataProvider=l,a.mannschaftsDataProvider=i,a.PLACEHOLDER_VAR="Bitte Verein eingeben...",a.config=m,a.config_table=E,a.multipleSelections=!0,a.loadingVereine=!0,a.loadingTable=!1,a.tableContent=[],a}return g.c(t,n),t.prototype.ngOnInit=function(){this.loadVereine()},t.prototype.onSelect=function(n){this.selectedDTOs=[],this.selectedDTOs=n,this.selectedDTOs&&this.selectedDTOs.length>0&&(this.selectedVereinsId=this.selectedDTOs[0].id),this.rows=[],this.tableContent=[],this.loadTableRows()},t.prototype.getSelectedDTO=function(){if(Object(y.a)(this.selectedDTOs))return"";console.log("Auswahllisten: selectedDTO = "+JSON.stringify(this.selectedDTOs));var n=[];return this.selectedDTOs.forEach(function(t){n.push(t.name)}),n.join(", ")},t.prototype.onView=function(n){},t.prototype.onEdit=function(n){},t.prototype.onDelete=function(n){},t.prototype.loadVereine=function(){var n=this;this.vereine=[],this.vereinDataProvider.findAll().then(function(t){n.vereine=t.payload,n.loadingVereine=!1}).catch(function(t){n.vereine=t.payload})},t.prototype.loadTableRows=function(){var n=this;this.loadingTable=!0,this.mannschaftsDataProvider.findAllByVereinsId(this.selectedVereinsId).then(function(t){return n.handleFindMannschaftenSuccess(t)}).catch(function(t){return n.handleFindMannschaftenFailure(t)})},t.prototype.handleFindMannschaftenFailure=function(n){this.rows=[],this.loadingTable=!1},t.prototype.handleFindMannschaftenSuccess=function(n){var t,e=this;this.rows=[],this.remainingMannschaftsRequests=n.payload.length,n.payload.length<=0&&(this.loadingTable=!1);var l=function(){var l=i.selectedDTOs[0].name+" "+n.payload[t].nummer+". Mannschaft";i.wettkampfDataProvider.findAllWettkaempfeByMannschaftsId(n.payload[t].id).then(function(n){return e.handleFindWettkaempfeSuccess(n,l)}).catch(function(n){return e.handleFindWettkaempfeFailure(n)})},i=this;for(t=0;t<n.payload.length;t++)l()},t.prototype.handleFindWettkaempfeFailure=function(n){this.rows=[],this.loadingTable=!1},t.prototype.handleFindWettkaempfeSuccess=function(n,t){var e=this;console.log("success"),this.remainingRequests=n.payload.length,this.remainingMannschaftsRequests-=1,n.payload.length<=0&&(this.loadingTable=!1);for(var l=function(n){var l=n.wettkampfTag+". Wettkampftag";i.veranstaltungsDataProvider.findById(n.veranstaltungsId).then(function(n){return e.handleFindVeranstaltungSuccess(n,t,l)}).catch(function(n){return e.handleFindVeranstaltungFailure(n)})},i=this,a=0,o=n.payload;a<o.length;a++)l(o[a]);if(0===n.payload.length){var r=new R("","",t);this.tableContent.push(r)}this.remainingMannschaftsRequests<=0&&(this.rows=Object(w.h)(this.tableContent))},t.prototype.handleFindVeranstaltungFailure=function(n){this.rows=[],this.loadingTable=!1},t.prototype.handleFindVeranstaltungSuccess=function(n,t,e){console.log("Content:"+n.payload.name+e+t);var l=new R(n.payload.name,e,t);this.tableContent.push(l),this.remainingRequests-=1,this.remainingRequests<=0&&(this.rows=Object(w.h)(this.tableContent),this.tableContent=[],this.loadingTable=!1)},t}(w.c),D=l.pb({encapsulation:0,styles:[[".row[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column}"]],data:{}});function P(n){return l.Kb(0,[(n()(),l.rb(0,0,null,null,14,"bla-navigation-dialog",[],null,null,null,o.b,o.a)),l.qb(1,114688,null,0,r.a,[],{config:[0,"config"]},null),(n()(),l.rb(2,0,null,0,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),l.rb(3,0,null,null,6,"bla-col-layout",[],null,null,null,s.b,s.a)),l.qb(4,114688,null,0,u.a,[],null,null),(n()(),l.rb(5,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),l.Ib(6,null,["Vereinsauswahl: ",""])),(n()(),l.rb(7,0,null,0,2,"bla-quicksearch-list",[["selectionListHeight","15em"],["style","width: 50%; flex-grow: 0;"]],null,[[null,"onSelect"]],function(n,t,e){var l=!0;return"onSelect"===t&&(l=!1!==n.component.onSelect(e)&&l),l},c.b,c.a)),l.Fb(131584,null,d.j,d.j,[d.k,l.h]),l.qb(9,638976,null,0,f.a,[d.j],{loading:[0,"loading"],multipleSelections:[1,"multipleSelections"],placeholderTranslationKey:[2,"placeholderTranslationKey"],selectionListHeight:[3,"selectionListHeight"],items:[4,"items"],optionFieldSelector:[5,"optionFieldSelector"]},{onSelect:"onSelect"}),(n()(),l.rb(10,0,null,0,4,"div",[["class","row"]],null,null,null,null,null)),(n()(),l.rb(11,0,null,null,3,"bla-data-table",[],null,[[null,"onDeleteClicked"],[null,"onEditClicked"],[null,"onViewClicked"]],function(n,t,e){var l=!0,i=n.component;return"onDeleteClicked"===t&&(l=!1!==i.onDelete(e)&&l),"onEditClicked"===t&&(l=!1!==i.onEdit(e)&&l),"onViewClicked"===t&&(l=!1!==i.onView(e)&&l),l},h.b,h.a)),l.Fb(512,null,p.a,p.a,[]),l.Fb(131584,null,d.j,d.j,[d.k,l.h]),l.qb(14,638976,null,0,b.a,[p.a,d.j],{loading:[0,"loading"],config:[1,"config"],rows:[2,"rows"]},null)],function(n,t){var e=t.component;n(t,1,0,e.config),n(t,4,0),n(t,9,0,e.loadingVereine,!e.multipleSelections,e.PLACEHOLDER_VAR,"15em",e.vereine,"name"),n(t,14,0,e.loadingTable,e.config_table,e.rows)},function(n,t){n(t,6,0,t.component.getSelectedDTO())})}function V(n){return l.Kb(0,[(n()(),l.rb(0,0,null,null,1,"bla-vereine",[],null,null,null,P,D)),l.qb(1,114688,null,0,F,[z,N.a,v.a,T.a],null,null)],function(n,t){n(t,1,0)},null)}var A=l.nb("bla-vereine",F,V,{id:"id",visible:"visible",loading:"loading",disabled:"disabled"},{},[]),U=e("Ip0R"),L=e("gIcY"),M=e("t/Na"),B=e("22Ks"),j=e("ZYCi"),K=e("Hf/j"),_=e("FpXt");e.d(t,"VereineModuleNgFactory",function(){return q});var q=l.ob(i,[],function(n){return l.yb([l.zb(512,l.j,l.db,[[8,[a.a,A]],[3,l.j],l.z]),l.zb(4608,U.n,U.m,[l.v,[2,U.z]]),l.zb(4608,L.y,L.y,[]),l.zb(4608,L.e,L.e,[]),l.zb(4608,M.i,M.o,[U.c,l.D,M.m]),l.zb(4608,M.p,M.p,[M.i,M.n]),l.zb(5120,M.a,function(n){return[n]},[M.p]),l.zb(4608,M.l,M.l,[]),l.zb(6144,M.j,null,[M.l]),l.zb(4608,M.h,M.h,[M.j]),l.zb(6144,M.b,null,[M.h]),l.zb(4608,M.f,M.k,[M.b,l.r]),l.zb(4608,M.c,M.c,[M.f]),l.zb(5120,B.b,B.f,[]),l.zb(5120,B.a,B.e,[]),l.zb(4608,d.g,d.f,[]),l.zb(4608,d.c,d.e,[]),l.zb(4608,d.i,d.d,[]),l.zb(4608,d.b,d.a,[]),l.zb(4608,d.k,d.k,[d.l,d.g,d.c,d.i,d.b,d.m,d.n]),l.zb(1073742336,U.b,U.b,[]),l.zb(1073742336,j.o,j.o,[[2,j.u],[2,j.l]]),l.zb(1073742336,L.w,L.w,[]),l.zb(1073742336,L.f,L.f,[]),l.zb(1073742336,L.r,L.r,[]),l.zb(1073742336,M.e,M.e,[]),l.zb(1073742336,M.d,M.d,[]),l.zb(1073742336,d.h,d.h,[]),l.zb(1073742336,K.f,K.f,[]),l.zb(1073742336,B.c,B.c,[]),l.zb(1073742336,_.a,_.a,[]),l.zb(1073742336,i,i,[]),l.zb(256,M.m,"XSRF-TOKEN",[]),l.zb(256,M.n,"X-XSRF-TOKEN",[]),l.zb(256,d.n,void 0,[]),l.zb(256,d.m,void 0,[]),l.zb(1024,j.j,function(){return[[{path:"",pathMatch:"full",component:F}]]},[])])})}}]);