(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Os0n:function(e,n,t){"use strict";t.r(n);var i=t("CcnG"),l=function(){return function(){}}(),a=t("pMnS"),o=t("r0Mn"),s=t("U9hD"),r=t("MQMe"),c=t("hIfO"),u=t("s5Z2"),d=t("A7o+"),h=t("zLSN"),p=t("M/5E"),f=t("JiLI"),b=t("xOPY"),g=t("rOts"),m=t("mrSG"),v=t("tY1a"),y={moduleTranslationKey:"VEREINE",pageTitleTranslationKey:"VEREINE.VEREINE.TITLE",navigationCardsConfig:{navigationCards:[]}},E={columns:[{translationKey:"VEREINE.VEREINE.TABLE.HEADERS.VERANSTALTUNG",propertyName:"veranstaltung_name",width:20},{translationKey:"VEREINE.VEREINE.TABLE.HEADERS.WETTKAMPF",propertyName:"wettkampfTag",width:20},{translationKey:"TABLE.PLACE",propertyName:"wettkampfOrt",width:20},{translationKey:"VEREINE.VEREINE.TABLE.HEADERS.MANNSCHAFT",propertyName:"mannschaftsName",width:20}],actions:{actionTypes:[v.a.MAP],width:6}},V=t("X628"),w=t("FlTZ"),T=t("PEb7"),z=(t("YfBl"),t("ny2l")),I=t("sQ0O"),S=t("nr0C"),D=function(e,n,t,i){this.veranstaltung_name=e,this.wettkampfTag=n,this.wettkampfOrt=t,this.mannschaftsName=i,this.id=1,this.version=1},O=(t("gQPg"),function(e){function n(n,t,i,l,a,o,s){var r=e.call(this)||this;return r.router=n,r.route=t,r.notificationService=i,r.wettkampfDataProvider=l,r.veranstaltungsDataProvider=a,r.vereinDataProvider=o,r.mannschaftsDataProvider=s,r.PLACEHOLDER_VAR="Bitte Verein eingeben...",r.config=y,r.config_table=E,r.multipleSelections=!0,r.loadingVereine=!0,r.loadingTable=!1,r.tableContent=[],r}return m.d(n,e),n.prototype.ngOnInit=function(){var e=this;console.log("Bin in Vereine"),this.providedID=0,this.loadVereine(),this.loading=!0,this.notificationService.discardNotification(),this.route.params.subscribe(function(n){Object(V.c)(n.id)||(e.providedID=parseInt(n.id,10),console.log("This.providedID: "+e.providedID))}),this.selectedVereinsId=this.providedID,console.log("This.selectedVereinsID: "+this.selectedVereinsId),this.changeSelectedVerein(),this.onSelect(this.selectedVereine)},n.prototype.changeSelectedVerein=function(){var e=this;this.selectedVereine=[],this.vereinDataProvider.findById(this.selectedVereinsId).then(function(n){return e.getVereinSuccsess(n.payload)}).catch(function(e){return console.log("Fehler im Verein laden")})},n.prototype.getVereinSuccsess=function(e){console.log("response in getVerein: "+e.name),this.currentVerein=e,this.selectedVereine.push(this.currentVerein),console.log("CurrentVerein: "+this.currentVerein)},n.prototype.onSelect=function(e){this.selectedDTOs=[],this.selectedDTOs=e,this.selectedDTOs&&this.selectedDTOs.length>0&&(this.selectedVereinsId=this.selectedDTOs[0].id),this.changeVerein()},n.prototype.changeVerein=function(){this.rows=[],this.tableContent=[],null!=this.selectedVereinsId&&this.loadTableRows()},n.prototype.getSelectedDTO=function(){if(Object(V.a)(this.selectedDTOs))return"";console.log("Auswahllisten: selectedDTO = "+JSON.stringify(this.selectedDTOs));var e=[];return this.selectedDTOs.forEach(function(n){e.push(n.name)}),e.join(", ")},n.prototype.onView=function(e){},n.prototype.onEdit=function(e){},n.prototype.onDelete=function(e){},n.prototype.onMap=function(e){var n;n=e.wettkampfOrt.split(", ",5),window.open("https://www.google.de/maps/place/"+n[0]+"+"+n[1]+"+"+n[2])},n.prototype.loadVereine=function(){var e=this;this.vereine=[],this.vereinDataProvider.findAll().then(function(n){e.vereine=n.payload,e.loadingVereine=!1}).catch(function(n){e.vereine=n.payload})},n.prototype.loadTableRows=function(){var e=this;this.loadingTable=!0,this.mannschaftsDataProvider.findAllByVereinsId(this.selectedVereinsId).then(function(n){return e.handleFindMannschaftenSuccess(n)}).catch(function(n){return e.handleFindMannschaftenFailure(n)})},n.prototype.handleFindMannschaftenFailure=function(e){this.rows=[],this.loadingTable=!1},n.prototype.handleFindMannschaftenSuccess=function(e){var n,t=this;this.rows=[],this.remainingMannschaftsRequests=e.payload.length,e.payload.length<=0&&(this.loadingTable=!1);var i=function(){var i=l.selectedDTOs[0].name+" "+e.payload[n].nummer+". Mannschaft";l.wettkampfDataProvider.findAllWettkaempfeByMannschaftsId(e.payload[n].id).then(function(e){return t.handleFindWettkaempfeSuccess(e,i)}).catch(function(e){return t.handleFindWettkaempfeFailure(e)})},l=this;for(n=0;n<e.payload.length;n++)i()},n.prototype.handleFindWettkaempfeFailure=function(e){this.rows=[],this.loadingTable=!1},n.prototype.handleFindWettkaempfeSuccess=function(e,n){var t=this;console.log("success"),this.remainingRequests=e.payload.length,this.remainingMannschaftsRequests-=1,e.payload.length<=0&&(this.loadingTable=!1);for(var i=function(e){var i=e.wettkampfTag+". Wettkampftag",a=e.wettkampfOrt;l.veranstaltungsDataProvider.findById(e.wettkampfVeranstaltungsId).then(function(e){return t.handleFindVeranstaltungSuccess(e,n,i,a)}).catch(function(e){return t.handleFindVeranstaltungFailure(e)})},l=this,a=0,o=e.payload;a<o.length;a++)i(o[a]);if(0===e.payload.length){var s=new D("","","",n);this.tableContent.push(s)}this.remainingMannschaftsRequests<=0&&(this.rows=Object(T.i)(this.tableContent))},n.prototype.handleFindVeranstaltungFailure=function(e){this.rows=[],this.loadingTable=!1},n.prototype.handleFindVeranstaltungSuccess=function(e,n,t,i){console.log("Content:"+e.payload.name+t+n);var l=new D(e.payload.name,t,i,n);this.tableContent.push(l),this.remainingRequests-=1,this.remainingRequests<=0&&(this.rows=Object(T.i)(this.tableContent),this.tableContent=[],this.loadingTable=!1)},n}(T.d)),F=t("ZYCi"),R=t("zcPl"),M=i.pb({encapsulation:0,styles:[[".row[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column}"]],data:{}});function N(e){return i.Lb(0,[(e()(),i.rb(0,0,null,null,15,"bla-navigation-dialog",[],null,null,null,o.b,o.a)),i.qb(1,114688,null,0,s.a,[],{config:[0,"config"]},null),(e()(),i.rb(2,0,null,0,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),i.rb(3,0,null,null,7,"bla-col-layout",[],null,null,null,r.b,r.a)),i.qb(4,114688,null,0,c.a,[],null,null),(e()(),i.rb(5,0,null,0,1,"h2",[],null,null,null,null,null)),(e()(),i.Jb(6,null,["Vereinsauswahl: ",""])),(e()(),i.rb(7,0,null,0,3,"bla-quicksearch-list",[["selectionListHeight","15em"],["style","width: 50%; flex-grow: 0;"]],null,[[null,"onSelect"]],function(e,n,t){var i=!0;return"onSelect"===n&&(i=!1!==e.component.onSelect(t)&&i),i},u.b,u.a)),i.Gb(131584,null,d.j,d.j,[d.k,i.h]),i.qb(9,638976,null,0,h.a,[d.j],{loading:[0,"loading"],multipleSelections:[1,"multipleSelections"],placeholderTranslationKey:[2,"placeholderTranslationKey"],selectionListHeight:[3,"selectionListHeight"],items:[4,"items"],optionFieldSelector:[5,"optionFieldSelector"],selectedItemIds:[6,"selectedItemIds"]},{onSelect:"onSelect"}),i.Cb(10,1),(e()(),i.rb(11,0,null,0,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),i.rb(12,0,null,null,3,"bla-data-table",[],null,[[null,"onMapEntry"]],function(e,n,t){var i=!0;return"onMapEntry"===n&&(i=!1!==e.component.onMap(t)&&i),i},p.b,p.a)),i.Gb(512,null,f.a,f.a,[]),i.Gb(131584,null,d.j,d.j,[d.k,i.h]),i.qb(15,638976,null,0,b.a,[f.a,d.j,g.a],{loading:[0,"loading"],config:[1,"config"],rows:[2,"rows"]},{onMapEntry:"onMapEntry"})],function(e,n){var t=n.component;e(n,1,0,t.config),e(n,4,0);var i=t.loadingVereine,l=!t.multipleSelections,a=t.PLACEHOLDER_VAR,o=t.vereine,s=e(n,10,0,t.selectedVereinsId);e(n,9,0,i,l,a,"15em",o,"name",s),e(n,15,0,t.loadingTable,t.config_table,t.rows)},function(e,n){e(n,6,0,n.component.getSelectedDTO())})}function k(e){return i.Lb(0,[(e()(),i.rb(0,0,null,null,1,"bla-vereine",[],null,null,null,N,M)),i.qb(1,114688,null,0,O,[F.l,F.a,R.a,I.a,S.a,w.a,z.a],null,null)],function(e,n){e(n,1,0)},null)}var A=i.nb("bla-vereine",O,k,{id:"id",visible:"visible",loading:"loading",disabled:"disabled"},{},[]),C=t("Ip0R"),P=t("gIcY"),L=t("t/Na"),j=t("22Ks"),q=t("Hf/j"),K=t("FpXt");t.d(n,"VereineModuleNgFactory",function(){return B});var B=i.ob(l,[],function(e){return i.yb([i.zb(512,i.j,i.db,[[8,[a.a,A]],[3,i.j],i.z]),i.zb(4608,C.n,C.m,[i.v,[2,C.z]]),i.zb(4608,P.z,P.z,[]),i.zb(4608,P.e,P.e,[]),i.zb(4608,L.i,L.o,[C.c,i.D,L.m]),i.zb(4608,L.p,L.p,[L.i,L.n]),i.zb(5120,L.a,function(e){return[e]},[L.p]),i.zb(4608,L.l,L.l,[]),i.zb(6144,L.j,null,[L.l]),i.zb(4608,L.h,L.h,[L.j]),i.zb(6144,L.b,null,[L.h]),i.zb(4608,L.f,L.k,[L.b,i.r]),i.zb(4608,L.c,L.c,[L.f]),i.zb(5120,j.b,j.f,[]),i.zb(5120,j.a,j.e,[]),i.zb(4608,d.g,d.f,[]),i.zb(4608,d.c,d.e,[]),i.zb(4608,d.i,d.d,[]),i.zb(4608,d.b,d.a,[]),i.zb(4608,d.k,d.k,[d.l,d.g,d.c,d.i,d.b,d.m,d.n]),i.zb(1073742336,C.b,C.b,[]),i.zb(1073742336,F.o,F.o,[[2,F.u],[2,F.l]]),i.zb(1073742336,P.w,P.w,[]),i.zb(1073742336,P.f,P.f,[]),i.zb(1073742336,P.r,P.r,[]),i.zb(1073742336,L.e,L.e,[]),i.zb(1073742336,L.d,L.d,[]),i.zb(1073742336,d.h,d.h,[]),i.zb(1073742336,q.f,q.f,[]),i.zb(1073742336,j.c,j.c,[]),i.zb(1073742336,K.a,K.a,[]),i.zb(1073742336,l,l,[]),i.zb(256,L.m,"XSRF-TOKEN",[]),i.zb(256,L.n,"X-XSRF-TOKEN",[]),i.zb(256,d.n,void 0,[]),i.zb(256,d.m,void 0,[]),i.zb(1024,F.j,function(){return[[{path:"",pathMatch:"full",component:O},{path:"/:id",pathMatch:"full",component:O}]]},[])])})}}]);