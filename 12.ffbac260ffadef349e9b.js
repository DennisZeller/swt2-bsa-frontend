(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Os0n:function(t,n,e){"use strict";e.r(n);var i=e("CcnG"),l=function(){return function(){}}(),r=e("pMnS"),o=e("r0Mn"),a=e("U9hD"),u=e("MQMe"),s=e("hIfO"),c=e("s5Z2"),d=e("A7o+"),f=e("zLSN"),h=e("M/5E"),p=e("JiLI"),b=e("xOPY"),E=e("mrSG"),m={moduleTranslationKey:"VEREINE",pageTitleTranslationKey:"VEREINE.VEREINE.TITLE",navigationCardsConfig:{navigationCards:[]}},g={columns:[{translationKey:"VEREINE.VEREINE.TABLE.HEADERS.VERANSTALTUNG",propertyName:"veranstaltung_name",width:20},{translationKey:"VEREINE.VEREINE.TABLE.HEADERS.WETTKAMPF",propertyName:"wettkampfTag",width:20},{translationKey:"VEREINE.VEREINE.TABLE.HEADERS.MANNSCHAFT",propertyName:"mannschaftsName",width:20}]},v=e("X628"),C=e("YfBl"),y=(e("th7h"),function(){function t(){}return t.copyFrom=function(n){void 0===n&&(n={});var e=new t;return e.id=n.id>=0?n.id:null,e.regionId=n.regionId>=0?n.regionId:null,e.name=n.name||"",e.identifier=n.identifier||"",e.regionName=n.regionName||"",e.version=n.version||null,e},t}());function w(t){return y.copyFrom(t)}var I=e("GxkG"),S=e("rOts"),T=function(t){function n(n,e){var i=t.call(this)||this;return i.restClient=n,i.currentUserService=e,i.serviceSubUrl="v1/vereine",i}return E.c(n,t),n.prototype.findAll=function(){var t=this;return new Promise(function(n,e){t.restClient.GET(t.getUrl()).then(function(t){var e,i;n({result:C.b.SUCCESS,payload:(e=t,i=[],e.forEach(function(t){return i.push(w(t))}),i)})},function(t){e(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.deleteById=function(t){var n=this;return new Promise(function(e,i){n.restClient.DELETE((new C.d).fromPath(n.getUrl()).path(t).build()).then(function(t){e({result:C.b.SUCCESS})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.findById=function(t){var n=this;return new Promise(function(e,i){n.restClient.GET((new C.d).fromPath(n.getUrl()).path(t).build()).then(function(t){e({result:C.b.SUCCESS,payload:w(t)})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.update=function(t){var n=this;return new Promise(function(e,i){n.restClient.PUT((new C.d).fromPath(n.getUrl()).build(),t).then(function(t){e({result:C.b.SUCCESS,payload:w(t)})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.create=function(t){var n=this;return new Promise(function(e,i){n.restClient.POST((new C.d).fromPath(n.getUrl()).build(),t).then(function(t){e({result:C.b.SUCCESS,payload:w(t)})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.ngInjectableDef=i.U({factory:function(){return new n(i.Y(I.a),i.Y(S.a))},token:n,providedIn:"root"}),n}(C.a),O=e("PEb7"),N=e("ny2l"),U=function(){function t(){}return t.copyFrom=function(n){void 0===n&&(n={});var e=new t;return e.id=n.id>=0?n.id:null,e.veranstaltungsId=n.veranstaltungsId>=0?n.veranstaltungsId:null,e.wettkampfTag=n.wettkampfTag>=0?n.wettkampfTag:null,e.wettkampfDisziplinId=n.wettkampfDisziplinId>=0?n.wettkampfDisziplinId:null,e.wettkampfTypId=n.wettkampfTypId>=0?n.wettkampfTypId:null,e.createdByUserId=n.createdByUserId>=0?n.createdByUserId:null,e.version=n.version>=0?n.version:null,e.datum=n.datum||"",e.wettkampfOrt=n.wettkampfOrt||"",e.wettkampfBeginn=n.wettkampfBeginn||"",e.createdAtUtc=n.createdAtUtc||"",e},t}();function P(t){return U.copyFrom(t)}function R(t){var n=[];return t.forEach(function(t){return n.push(P(t))}),n}var F=function(t){function n(n){var e=t.call(this)||this;return e.restClient=n,e.serviceSubUrl="v1/wettkampf",e}return E.c(n,t),n.prototype.findAllWettkaempfeByMannschaftsId=function(t){var n=this;return new Promise(function(e,i){n.restClient.GET((new C.d).fromPath(n.getUrl()).path("byMannschaftsId/"+t).build()).then(function(t){console.log("wettaempfe kraw data"),console.log(t),e({result:C.b.SUCCESS,payload:R(t)})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.findAll=function(){var t=this;return new Promise(function(n,e){t.restClient.GET(t.getUrl()).then(function(t){n({result:C.b.SUCCESS,payload:R(t)})},function(t){e(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.findById=function(t){var n=this;return new Promise(function(e,i){n.restClient.GET((new C.d).fromPath(n.getUrl()).path(t).build()).then(function(t){e({result:C.b.SUCCESS,payload:P(t)})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.update=function(t){var n=this;return new Promise(function(e,i){n.restClient.PUT((new C.d).fromPath(n.getUrl()).build(),t).then(function(t){e({result:C.b.SUCCESS,payload:P(t)})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.create=function(t){var n=this;return new Promise(function(e,i){n.restClient.POST((new C.d).fromPath(n.getUrl()).build(),t).then(function(t){e({result:C.b.SUCCESS,payload:P(t)})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.deleteById=function(t){var n=this;return new Promise(function(e,i){n.restClient.DELETE((new C.d).fromPath(n.getUrl()).path(t).build()).then(function(t){e({result:C.b.SUCCESS})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.ngInjectableDef=i.U({factory:function(){return new n(i.Y(I.a))},token:n,providedIn:"root"}),n}(C.a),k=function(){function t(){}return t.copyFrom=function(n){void 0===n&&(n={});var e=new t;return e.id=n.id>=0?n.id:null,e.sportjahr=n.sportjahr>=0?n.sportjahr:null,e.ligaleiterID=n.ligaleiterID>=0?n.ligaleiterID:null,e.wettkampfTypId=n.wettkampfTypId>=0?n.wettkampfTypId:null,e.version=n.version>=0?n.version:null,e.meldeDeadline=n.meldeDeadline||"",e.name=n.name||"",e},t}();function L(t){return k.copyFrom(t)}var z=function(t){function n(n){var e=t.call(this)||this;return e.restClient=n,e.serviceSubUrl="v1/veranstaltung",e}return E.c(n,t),n.prototype.findAll=function(){var t=this;return new Promise(function(n,e){t.restClient.GET(t.getUrl()).then(function(t){var e,i;n({result:C.b.SUCCESS,payload:(e=t,i=[],e.forEach(function(t){return i.push(L(t))}),i)})},function(t){e(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.findById=function(t){var n=this;return new Promise(function(e,i){n.restClient.GET((new C.d).fromPath(n.getUrl()).path(t).build()).then(function(t){console.log(t),e({result:C.b.SUCCESS,payload:L(t)})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.update=function(t){var n=this;return new Promise(function(e,i){n.restClient.PUT((new C.d).fromPath(n.getUrl()).build(),t).then(function(t){e({result:C.b.SUCCESS,payload:L(t)})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.create=function(t){var n=this;return new Promise(function(e,i){n.restClient.POST((new C.d).fromPath(n.getUrl()).build(),t).then(function(t){e({result:C.b.SUCCESS,payload:L(t)})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.prototype.deleteById=function(t){var n=this;return new Promise(function(e,i){n.restClient.DELETE((new C.d).fromPath(n.getUrl()).path(t).build()).then(function(t){e({result:C.b.SUCCESS})},function(t){i(0===t.status?{result:C.b.CONNECTION_PROBLEM}:{result:C.b.FAILURE})})})},n.ngInjectableDef=i.U({factory:function(){return new n(i.Y(I.a))},token:n,providedIn:"root"}),n}(C.a),D=function(t,n,e){this.veranstaltung_name=t,this.wettkampfTag=n,this.mannschaftsName=e,this.id=1,this.version=1},A=function(t){function n(n,e,i,l){var r=t.call(this)||this;return r.wettkampfDataProvider=n,r.veranstaltungsDataProvider=e,r.vereinDataProvider=i,r.mannschaftsDataProvider=l,r.config=m,r.config_table=g,r.multipleSelections=!0,r.loadingVereine=!0,r.loadingTable=!1,r.tableContent=[],r}return E.c(n,t),n.prototype.ngOnInit=function(){this.loadVereine()},n.prototype.onSelect=function(t){this.selectedDTOs=[],this.selectedDTOs=t,this.selectedVereinsId=this.selectedDTOs[0].id,this.rows=[],this.tableContent=[],this.loadTableRows()},n.prototype.getSelectedDTO=function(){if(Object(v.a)(this.selectedDTOs))return"";console.log("Auswahllisten: selectedDTO = "+JSON.stringify(this.selectedDTOs));var t=[];return this.selectedDTOs.forEach(function(n){t.push(n.name)}),t.join(", ")},n.prototype.loadVereine=function(){var t=this;this.vereine=[],this.vereinDataProvider.findAll().then(function(n){t.vereine=n.payload,t.loadingVereine=!1}).catch(function(n){t.vereine=n.payload})},n.prototype.loadTableRows=function(){var t=this;this.loadingTable=!0,this.mannschaftsDataProvider.findAllByVereinsId(this.selectedVereinsId).then(function(n){return t.handleFindMannschaftenSuccess(n)}).catch(function(n){return t.handleFindMannschaftenFailure(n)})},n.prototype.handleFindMannschaftenFailure=function(t){this.rows=[],this.loadingTable=!1},n.prototype.handleFindMannschaftenSuccess=function(t){var n,e=this;this.rows=[],this.remainingMannschaftsRequests=t.payload.length,t.payload.length<=0&&(this.loadingTable=!1);var i=function(){var i=l.selectedDTOs[0].name+" "+t.payload[n].nummer+". Mannschaft";l.wettkampfDataProvider.findAllWettkaempfeByMannschaftsId(t.payload[n].id).then(function(t){return e.handleFindWettkaempfeSuccess(t,i)}).catch(function(t){return e.handleFindWettkaempfeFailure(t)})},l=this;for(n=0;n<t.payload.length;n++)i()},n.prototype.handleFindWettkaempfeFailure=function(t){this.rows=[],this.loadingTable=!1},n.prototype.handleFindWettkaempfeSuccess=function(t,n){var e=this;console.log("success"),this.remainingRequests=t.payload.length,this.remainingMannschaftsRequests-=1,t.payload.length<=0&&(this.loadingTable=!1);for(var i=function(t){var i=t.wettkampfTag+". Wettkampftag";l.veranstaltungsDataProvider.findById(t.veranstaltungsId).then(function(t){return e.handleFindVeranstaltungSuccess(t,n,i)}).catch(function(t){return e.handleFindVeranstaltungFailure(t)})},l=this,r=0,o=t.payload;r<o.length;r++)i(o[r]);if(0===t.payload.length){var a=new D("","",n);this.tableContent.push(a)}this.remainingMannschaftsRequests<=0&&(this.rows=Object(O.h)(this.tableContent))},n.prototype.handleFindVeranstaltungFailure=function(t){this.rows=[],this.loadingTable=!1},n.prototype.handleFindVeranstaltungSuccess=function(t,n,e){var i=new D(t.payload.name,e,n);this.tableContent.push(i),this.remainingRequests-=1,this.remainingRequests<=0&&(this.rows=Object(O.h)(this.tableContent),this.tableContent=[],this.loadingTable=!1)},n.prototype.onView=function(t){},n.prototype.onEdit=function(t){},n.prototype.onDelete=function(t){},n}(O.c),M=i.pb({encapsulation:0,styles:[[".row[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column}"]],data:{}});function B(t){return i.Kb(0,[(t()(),i.rb(0,0,null,null,14,"bla-navigation-dialog",[],null,null,null,o.b,o.a)),i.qb(1,114688,null,0,a.a,[],{config:[0,"config"]},null),(t()(),i.rb(2,0,null,0,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),i.rb(3,0,null,null,6,"bla-col-layout",[],null,null,null,u.b,u.a)),i.qb(4,114688,null,0,s.a,[],null,null),(t()(),i.rb(5,0,null,0,1,"h2",[],null,null,null,null,null)),(t()(),i.Ib(6,null,["Vereinsauswahl: ",""])),(t()(),i.rb(7,0,null,0,2,"bla-quicksearch-list",[["selectionListHeight","15em"],["style","width: 50%; flex-grow: 0;"]],null,[[null,"onSelect"]],function(t,n,e){var i=!0;return"onSelect"===n&&(i=!1!==t.component.onSelect(e)&&i),i},c.b,c.a)),i.Fb(131584,null,d.j,d.j,[d.k,i.h]),i.qb(9,638976,null,0,f.a,[d.j],{loading:[0,"loading"],multipleSelections:[1,"multipleSelections"],selectionListHeight:[2,"selectionListHeight"],items:[3,"items"],optionFieldSelector:[4,"optionFieldSelector"]},{onSelect:"onSelect"}),(t()(),i.rb(10,0,null,0,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),i.rb(11,0,null,null,3,"bla-data-table",[],null,[[null,"onViewClicked"],[null,"onEditClicked"],[null,"onDeleteClicked"]],function(t,n,e){var i=!0,l=t.component;return"onViewClicked"===n&&(i=!1!==l.onView(e)&&i),"onEditClicked"===n&&(i=!1!==l.onEdit(e)&&i),"onDeleteClicked"===n&&(i=!1!==l.onDelete(e)&&i),i},h.b,h.a)),i.Fb(512,null,p.a,p.a,[]),i.Fb(131584,null,d.j,d.j,[d.k,i.h]),i.qb(14,638976,null,0,b.a,[p.a,d.j],{loading:[0,"loading"],config:[1,"config"],rows:[2,"rows"]},null)],function(t,n){var e=n.component;t(n,1,0,e.config),t(n,4,0),t(n,9,0,e.loadingVereine,!e.multipleSelections,"15em",e.vereine,"name"),t(n,14,0,e.loadingTable,e.config_table,e.rows)},function(t,n){t(n,6,0,n.component.getSelectedDTO())})}function V(t){return i.Kb(0,[(t()(),i.rb(0,0,null,null,1,"bla-vereine",[],null,null,null,B,M)),i.qb(1,114688,null,0,A,[F,z,T,N.a],null,null)],function(t,n){t(n,1,0)},null)}var j=i.nb("bla-vereine",A,V,{id:"id",visible:"visible",loading:"loading",disabled:"disabled"},{},[]),_=e("Ip0R"),q=e("gIcY"),G=e("t/Na"),K=e("22Ks"),H=e("ZYCi"),W=e("Hf/j"),Y=e("FpXt");e.d(n,"VereineModuleNgFactory",function(){return x});var x=i.ob(l,[],function(t){return i.yb([i.zb(512,i.j,i.db,[[8,[r.a,j]],[3,i.j],i.z]),i.zb(4608,_.n,_.m,[i.v,[2,_.x]]),i.zb(4608,q.z,q.z,[]),i.zb(4608,q.e,q.e,[]),i.zb(4608,G.i,G.o,[_.c,i.D,G.m]),i.zb(4608,G.p,G.p,[G.i,G.n]),i.zb(5120,G.a,function(t){return[t]},[G.p]),i.zb(4608,G.l,G.l,[]),i.zb(6144,G.j,null,[G.l]),i.zb(4608,G.h,G.h,[G.j]),i.zb(6144,G.b,null,[G.h]),i.zb(4608,G.f,G.k,[G.b,i.r]),i.zb(4608,G.c,G.c,[G.f]),i.zb(5120,K.b,K.f,[]),i.zb(5120,K.a,K.e,[]),i.zb(4608,d.g,d.f,[]),i.zb(4608,d.c,d.e,[]),i.zb(4608,d.i,d.d,[]),i.zb(4608,d.b,d.a,[]),i.zb(4608,d.k,d.k,[d.l,d.g,d.c,d.i,d.b,d.m,d.n]),i.zb(1073742336,_.b,_.b,[]),i.zb(1073742336,H.o,H.o,[[2,H.u],[2,H.l]]),i.zb(1073742336,q.w,q.w,[]),i.zb(1073742336,q.f,q.f,[]),i.zb(1073742336,q.r,q.r,[]),i.zb(1073742336,G.e,G.e,[]),i.zb(1073742336,G.d,G.d,[]),i.zb(1073742336,d.h,d.h,[]),i.zb(1073742336,W.f,W.f,[]),i.zb(1073742336,K.c,K.c,[]),i.zb(1073742336,Y.a,Y.a,[]),i.zb(1073742336,l,l,[]),i.zb(256,G.m,"XSRF-TOKEN",[]),i.zb(256,G.n,"X-XSRF-TOKEN",[]),i.zb(256,d.n,void 0,[]),i.zb(256,d.m,void 0,[]),i.zb(1024,H.j,function(){return[[{path:"",pathMatch:"full",component:A}]]},[])])})}}]);